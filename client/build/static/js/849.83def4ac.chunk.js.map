{"version":3,"file":"static/js/849.83def4ac.chunk.js","mappings":"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","sources":["components/Blocks/Simple/Feature/SettingBlock.tsx","components/Card/Card.tsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { TextInput, CustomSelect, ImgInput } from '../../../Input';\r\nimport { Card } from '../../../Card/Card';\r\nimport { getCurrentStyleOption, getStyleOptions } from '../../blockHelper';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n  updateBlockData,\r\n  selectBlockById,\r\n  updateTemplate,\r\n} from '../../../../reducers/SiteReducer';\r\nimport type { RootState } from '../../../../reducers/store';\r\nimport * as icon from '../../../../icons';\r\nimport { SettingBlockProps, StyleData } from '../../blockValidator';\r\nimport axios from 'axios';\r\n\r\nfunction SettingBlock({ blockId, onRemove }: SettingBlockProps) {\r\n  const { id, template, data, isCardOpened } = useSelector((state: RootState) =>\r\n    selectBlockById(state, blockId)\r\n  );\r\n  const styleOptions = getStyleOptions(template);\r\n  const currentStyle = getCurrentStyleOption(template);\r\n  const dispatch = useDispatch();\r\n\r\n  //Input\r\n  const [navTitle, setNavTitle] = useState(data.navTitle);\r\n  const [style, setStyle] = useState(currentStyle);\r\n  const [caption, setCaption] = useState(data.caption?.value);\r\n  const [header, setHeader] = useState(data.header?.value);\r\n  const [headerHighlight, setHeaderHighlight] = useState(\r\n    data.headerHighlight?.value\r\n  );\r\n  const [body, setBody] = useState(data.body?.value);\r\n  const [button, setButton] = useState(data.button);\r\n  const [image, setImage] = useState(data.image);\r\n\r\n  async function imgHandler(data: any) {\r\n    const formData = new FormData();\r\n    formData.append('file', data);\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    };\r\n    const result = await axios.post('/api/site/image', formData, config);\r\n    \r\n    setImage(result.data);\r\n    dispatch(\r\n      updateBlockData({\r\n        blockId: id,\r\n        field: 'image',\r\n        value: {\r\n          src: result.data,\r\n          alt: result.data,\r\n        },\r\n      })\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Card\r\n        title=\"Feature\"\r\n        onRemove={onRemove}\r\n        icon={icon.Feature}\r\n        isCardOpened={isCardOpened}\r\n        blockId={blockId}\r\n      >\r\n        <TextInput\r\n          title=\"메뉴명\"\r\n          required={false}\r\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n            setNavTitle(e.target.value);\r\n            dispatch(\r\n              updateBlockData({\r\n                blockId: id,\r\n                field: 'navTitle',\r\n                value: e.target.value,\r\n              })\r\n            );\r\n          }}\r\n          guideline=\"네비게이션 바에 입력될 메뉴명을 입력하세요.\"\r\n          value={navTitle}\r\n        ></TextInput>\r\n        <CustomSelect\r\n          title=\"스타일\"\r\n          required\r\n          guideline=\"스타일를 선택해주세요.\"\r\n          placeholder=\"원하는 선택지를 선택해주세요\"\r\n          options={styleOptions}\r\n          onChange={(e: StyleData) => {\r\n            setStyle(e);\r\n            dispatch(updateTemplate({ blockId: id, newTemplate: e.value }));\r\n          }}\r\n          value={style}\r\n        />\r\n        <ImgInput\r\n          title=\"이미지\"\r\n          guideline=\"사이트에 표시할 이미지를 업로드하세요\"\r\n          src={image?.src}\r\n          alt={image?.alt}\r\n          placeholder={image?.src}\r\n          onChange={imgHandler}\r\n        />\r\n        <TextInput\r\n          title=\"캡션\"\r\n          required={false}\r\n          guideline=\"캡션에 표시될 내용을 입력하세요.\"\r\n          value={caption}\r\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n            setCaption(e.target.value);\r\n            dispatch(\r\n              updateBlockData({\r\n                blockId: id,\r\n                field: 'caption',\r\n                value: { value: e.target.value },\r\n              })\r\n            );\r\n          }}\r\n        ></TextInput>\r\n        <TextInput\r\n          title=\"헤드라인\"\r\n          required\r\n          guideline=\"헤드라인에 표시될 내용을 입력하세요.\"\r\n          value={header}\r\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n            setHeader(e.target.value);\r\n            dispatch(\r\n              updateBlockData({\r\n                blockId: id,\r\n                field: 'header',\r\n                value: { value: e.target.value },\r\n              })\r\n            );\r\n          }}\r\n        ></TextInput>\r\n        <TextInput\r\n          title=\"헤드라인 강조 테스트\"\r\n          required={false}\r\n          guideline=\"헤드라인 내용 중에서 강조할 텍스트를 입력하세요\"\r\n          value={headerHighlight}\r\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n            setHeaderHighlight(e.target.value);\r\n            dispatch(\r\n              updateBlockData({\r\n                blockId: id,\r\n                field: 'headerHighlight',\r\n                value: { value: e.target.value },\r\n              })\r\n            );\r\n          }}\r\n        ></TextInput>\r\n        <TextInput\r\n          title=\"설명\"\r\n          required={false}\r\n          guideline=\"설명에 표시될 내용을 입력하세요\"\r\n          value={body}\r\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n            setBody(e.target.value);\r\n            dispatch(\r\n              updateBlockData({\r\n                blockId: id,\r\n                field: 'body',\r\n                value: { value: e.target.value },\r\n              })\r\n            );\r\n          }}\r\n        ></TextInput>\r\n        <TextInput\r\n          title=\"버튼 텍스트\"\r\n          required={false}\r\n          guideline=\"비워둘 경우 버튼이 나타나지 않습니다.\"\r\n          value={button?.title}\r\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n            setButton({ ...button, title: e.target.value });\r\n            dispatch(\r\n              updateBlockData({\r\n                blockId: id,\r\n                field: 'button',\r\n                value: { ...button, title: e.target.value },\r\n              })\r\n            );\r\n          }}\r\n        ></TextInput>\r\n        <TextInput\r\n          title=\"버튼 URL\"\r\n          required={false}\r\n          guideline=\"버튼 클릭시 이동될 url을 입력하세요\"\r\n          value={button?.url}\r\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n            setButton({ ...button, url: e.target.value });\r\n            dispatch(\r\n              updateBlockData({\r\n                blockId: id,\r\n                field: 'button',\r\n                value: { title: button?.title, url: e.target.value },\r\n              })\r\n            );\r\n          }}\r\n        ></TextInput>\r\n      </Card>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SettingBlock;\r\n","import styled, { css } from 'styled-components';\r\nimport * as icon from '../../icons';\r\nimport React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { toggleCardState } from '../../reducers/SiteReducer';\r\n\r\nexport const CardHeader = styled.div<{ isOpened: boolean }>`\r\n  background: #ffffff;\r\n  border: 1px solid #efefef;\r\n  border-radius: ${(props) =>\r\n    props.isOpened === true ? '12px 12px 0 0' : '12px'};\r\n  position: relative;\r\n  width: 100%;\r\n  height: 60px;\r\n  display: flex;\r\n  padding: 0px 24px;\r\n  box-sizing: border-box;\r\n  & * {\r\n    user-select: none;\r\n    user-drag: none;\r\n  }\r\n`;\r\n\r\nconst CardContainer = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nconst CardBoby = styled.div<{ isOpened: boolean }>`\r\n  background: #ffffff;\r\n  border: 1px solid #efefef;\r\n  border-top: none;\r\n  padding: 24px;\r\n  box-sizing: border-box;\r\n  border-radius: 0 0 12px 12px;\r\n  div:first-child {\r\n    margin-top: 0px;\r\n  }\r\n`;\r\n\r\nconst HeaderIcon = styled.img<{ pinned: boolean }>`\r\n  width: 22px;\r\n  height: 22px;\r\n  margin: auto 0;\r\n  &:hover {\r\n    cursor: ${(props) => (props.pinned ? 'not-allowed' : 'grab')};\r\n  }\r\n  &:active {\r\n    cursor: ${(props) => (props.pinned ? 'not-allowed' : 'grabbing')};\r\n  }\r\n`;\r\n\r\nconst TitleBox = styled.div`\r\n  font-weight: 600;\r\n  font-size: 18px;\r\n  display: flex;\r\n  margin-left: 20px;\r\n`;\r\n\r\nconst Title = styled.span`\r\n  margin: auto 0;\r\n  margin-left: 16px;\r\n  padding-top: 2px;\r\n`;\r\n\r\nconst TitleIcon = styled.img`\r\n  width: 24px;\r\n  height: 24px;\r\n  margin: auto 0;\r\n`;\r\nconst Trash = styled.img`\r\n  width: 20px;\r\n  height: 20px;\r\n  position: absolute;\r\n  padding: 10px;\r\n  right: 64px;\r\n  top: 9px;\r\n  transition: opacity 0.3s;\r\n  &:hover {\r\n    cursor: pointer;\r\n    opacity: 0.6;\r\n  }\r\n`;\r\nconst Down = styled.img<{ isOpened: boolean }>`\r\n  width: 20px;\r\n  height: 20px;\r\n  position: absolute;\r\n  padding: 10px;\r\n  right: 22px;\r\n  top: 9px;\r\n  transition: transform 0.4s;\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n  ${(props) =>\r\n    props.isOpened &&\r\n    css`\r\n      transform: rotate(180deg);\r\n    `}\r\n`;\r\n\r\ninterface Cardprops {\r\n  title: string;\r\n  children: any;\r\n  pinned?: boolean;\r\n  icon?: string;\r\n  onRemove: (event: React.MouseEvent<HTMLElement>) => void;\r\n  isCardOpened?: boolean;\r\n  blockId?: string;\r\n}\r\n\r\nexport const Card = (props: Cardprops) => {\r\n  const dispatch = useDispatch();\r\n  const isCardOpened = props.isCardOpened ?? false;\r\n  return (\r\n    <CardContainer>\r\n      <CardHeader isOpened={isCardOpened}>\r\n        <HeaderIcon\r\n          pinned={props.pinned ? true : false}\r\n          src={props.pinned ? icon.Pin : icon.Movable}\r\n          alt=''\r\n        />\r\n        <TitleBox>\r\n          <TitleIcon src={props.icon} alt='' />\r\n          <Title>{props.title}</Title>\r\n        </TitleBox>\r\n        <Trash src={icon.Trash} alt='' onClick={props.onRemove} />\r\n        <Down\r\n          src={icon.Down}\r\n          alt=''\r\n          isOpened={isCardOpened}\r\n          onClick={() => {\r\n            dispatch(toggleCardState(props.blockId ?? ''));\r\n          }}\r\n        />\r\n      </CardHeader>\r\n      {isCardOpened && (\r\n        <CardBoby isOpened={isCardOpened}>{props.children}</CardBoby>\r\n      )}\r\n    </CardContainer>\r\n  );\r\n};\r\n"],"names":["blockId","onRemove","useSelector","state","selectBlockById","id","template","data","isCardOpened","styleOptions","getStyleOptions","currentStyle","getCurrentStyleOption","dispatch","useDispatch","useState","navTitle","setNavTitle","style","setStyle","caption","value","setCaption","header","setHeader","headerHighlight","setHeaderHighlight","body","setBody","button","setButton","image","setImage","formData","FormData","append","config","headers","axios","result","updateBlockData","field","src","alt","title","icon","required","onChange","e","target","guideline","placeholder","options","updateTemplate","newTemplate","url","CardHeader","styled","props","isOpened","CardContainer","CardBoby","HeaderIcon","pinned","TitleBox","Title","TitleIcon","Trash","Down","css","Card","onClick","toggleCardState","children"],"sourceRoot":""}